% Plantilla para un Trabajo Fin de Grado de la Universidad de Granada,
% adaptada para el Doble Grado en Ingeniería Informática y Matemáticas.
%
%  Autor: Mario Román.
%  Licencia: GNU GPLv2.
%
% Esta plantilla es una adaptación al castellano de la plantilla
% classicthesis de André Miede, que puede obtenerse en:
%  https://ctan.org/tex-archive/macros/latex/contrib/classicthesis?lang=en
% La plantilla original se licencia en GNU GPLv2.
%
% Esta plantilla usa símbolos de la Universidad de Granada sujetos a la normativa
% de identidad visual corporativa, que puede encontrarse en:
% http://secretariageneral.ugr.es/pages/ivc/normativa
%
% La compilación se realiza con las siguientes instrucciones:
%   pdflatex --shell-escape main.tex
%   bibtex main
%   pdflatex --shell-escape main.tex
%   pdflatex --shell-escape main.tex

% Opciones del tipo de documento
\documentclass[oneside,openright,titlepage,numbers=noenddot,openany,headinclude,footinclude=true,
cleardoublepage=empty,abstractoff,BCOR=5mm,paper=a4,fontsize=12pt,main=spanish]{scrreprt}

% Paquetes de latex que se cargan al inicio. Cubren la entrada de
% texto, gráficos, código fuente y símbolofs.
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx} % Inclusión de imágenes.
\usepackage{grffile}  % Distintos formatos para imágenes.
\usepackage{longtable} % Tablas multipágina.
\usepackage{wrapfig} % Coloca texto alrededor de una figura.
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{dsfont}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage[colorlinks=true]{hyperref}
\usepackage{tikz} % Diagramas conmutativos.
\usepackage{minted} % Código fuente.
\usepackage[numbers]{natbib}
\usepackage{booktabs} % Para tablas de figuras (ejemplo en salesman)
\usepackage{listings} % Código
\usepackage{comment}

\lstset{
	basicstyle=\ttfamily,%
	breaklines=true,%
	captionpos=b,                    % sets the caption-position to bottom
  tabsize=2,	                   % sets default tabsize to 2 spaces
  frame=none,
  numbers=left,
  xleftmargin=18pt,
  stepnumber=1,
  aboveskip=12pt,
  showstringspaces=false,
  keywordstyle=\bfseries,
  commentstyle=\itshape,
  numberstyle=\scriptsize\bfseries,
  %morekeywords={sage},
}

% Operadores

\DeclareMathOperator{\gr}{gr}
\DeclareMathOperator{\mcd}{mcd}

\lstset{ frame=Ltb,
framerule=0pt,
aboveskip=0.5cm,
framextopmargin=3pt,
framexbottommargin=3pt,
framexleftmargin=0.4cm,
framesep=0pt,
rulesep=.4pt,
backgroundcolor=\color{white},
rulesepcolor=\color{black},
%
stringstyle=\ttfamily,
showstringspaces = false,
basicstyle=\small\ttfamily,
commentstyle=\color{gray},
keywordstyle=\bfseries,
%
numbers=left,
numbersep=15pt,
numberstyle=\tiny,
numberfirstline = false,
breaklines=true,
}



\lstdefinestyle{Python}
{language=Python,
}


% Plantilla classicthesis
\usepackage[beramono,eulerchapternumbers,linedheaders,parts,a5paper,dottedtoc,
manychapters,pdfspacing]{classicthesis}

% Geometría y espaciado de párrafos.
\setcounter{secnumdepth}{0}
\usepackage{enumitem}
\setitemize{noitemsep,topsep=0pt,parsep=0pt,partopsep=0pt}
\setlist[enumerate]{topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex}
\usepackage[top=1in, bottom=1.5in, left=1in, right=1in]{geometry}
\setlength\itemsep{0em}
\setlength{\parindent}{0pt}
\usepackage{parskip}
\usepackage{setspace}

% Profundidad de la tabla de contenidos.
\setcounter{secnumdepth}{3}

% Usa el paquete minted para mostrar trozos de código.
% Pueden seleccionarse el lenguaje apropiado y el estilo del código.
\usepackage{minted}
\usemintedstyle{colorful}
\setminted{fontsize=\small}
\setminted[haskell]{linenos=false,fontsize=\small}
\renewcommand{\theFancyVerbLine}{\sffamily\textcolor[rgb]{0.5,0.5,1.0}{\oldstylenums{\arabic{FancyVerbLine}}}}

% Path para las imágenes
\graphicspath{{figures/}}

% Archivos de configuración.
\input{imports/macros}  % En macros.tex se almacenan las opciones y comandos para escribir matemáticas.
\input{imports/classicthesis-config} % En classicthesis-config.tex se almacenan las opciones propias de la plantilla.

% Color institucional UGR
% \definecolor{ugrColor}{HTML}{ed1c3e} % Versión clara.
\definecolor{ugrColor}{HTML}{c6474b}  % Usado en el título.
\definecolor{ugrColor2}{HTML}{c6474b} % Usado en las secciones.

% Datos de portada
\usepackage{titling} % Facilita los datos de la portada
\author{Paula Villanueva Núñez} 
\title{Criptoanálisis del Criptosistema \\ de McEliece clásico \\ mediante algoritmos genéticos}

% Portada
\include{imports/titlepage}
\usepackage{wallpaper}
\usepackage[main=spanish]{babel}


\usepackage{slantsc}

% Algoritmos

\usepackage[linesnumbered, onelanguage, ruled]{algorithm2e}
\SetAlCapFnt{\sffamily}
\SetAlCapNameFnt{\sffamily}
\newcommand\mycommentfont[1]{\sffamily\textcolor{darkgray}{#1}}
\SetCommentSty{mycommentfont}
%\SetAlFnt{\sffamily}
%\SetKwSty{sffamily}
\SetAlCapSkip{.5em}
\SetAlgoCaptionLayout{raggedright}
\SetAlgorithmName{Algoritmo}{Algoritmo}{Lista de algoritmos}
%\SetAlgoSkip{medskip}
\SetAlgoInsideSkip{medskip}

% Entorno algoritmo con líneas pero caption debajo
\makeatletter
\newenvironment{Ualgorithm}[1][htpb]{\def\@algocf@post@ruled{\color{gray}\hrule  height\algoheightrule\kern6pt\relax}%
\def\@algocf@capt@ruled{under}%
\setlength\algotitleheightrule{0pt}%
\SetAlgoCaptionLayout{raggedright}%
\begin{algorithm}[#1]}
{\end{algorithm}}
\makeatother

% Comandos
\theoremstyle{plain}
\newtheorem{problemth}{Problema}

\begin{document}

\ThisULCornerWallPaper{1}{figures/ugrA4.pdf}
\maketitle

% TODO: dedicatoria
\input{add_ons/dedicatoria}

\onehalfspacing

\input{add_ons/resumen}

\newpage
\null
\thispagestyle{empty}

\input{add_ons/summary}

%\newpage
%\null
%\thispagestyle{empty}

% Indice
\tableofcontents

% TODO: Introducción
\input{add_ons/introduccion}

\newpage
\null
\thispagestyle{empty}

\input{chapters/chapter1}
\input{chapters/chapter2}
\input{chapters/chapter3}
\input{chapters/chapter4}
\input{chapters/chapter5}

% TODO: Conclusión
\newpage
\null
\thispagestyle{empty}

\input{add_ons/conclusion}

\newpage
\null
\thispagestyle{empty}

\appendix
\include{appendix/sage-Goppa}
\include{appendix/sage-McEliece}
\include{appendix/sage-Niederreiter}
\include{appendix/sage-genetic-algorithms}

% ----------------------- %
% BIBLIOGRAFÍA
% ----------------------- %

% Estilo de cita.
\bibliographystyle{unsrtnat}
\renewcommand\bibname{Reference}

%[citestyle=numeric]

\renewcommand\bibname{Bibliografía}
\bibliography{bib/library}

% Añadimos la bibliografía al índice
\phantomsection
\addcontentsline{toc}{chapter}{Bibliografía}

\end{document}
